buildscript {
    repositories {
        jcenter()
    }
    dependencies {
    }
}

repositories {
    jcenter()
}

apply plugin: 'java'
apply plugin: 'application'

mainClassName = "com.android.apksigner.ApkSignerTool"

sourceSets {
    main {
        java {
            srcDirs = ['../src/apksigner/java']
        }
        resources {
            srcDirs = ['../src/apksigner/java']
        }
    }
}

dependencies {
    compile project(':apksig')

    testCompile 'junit:junit:4.12'
    testCompile 'org.assertj:assertj-core:2.5.0'
    // testCompile 'com.google.truth:truth:0.30'

    //testCompile 'org.mockito:mockito-core:2.2.9'
    testCompile 'org.mockito:mockito-core:1.10.19'
}

//manifest {
//    from sharedManifest, 'src/apksigner/apksigner.mf'
//}

tasks.withType(Test) {
    testLogging {
        exceptionFormat "full"
        //events "passed", "skipped", "failed"
        events "passed", "skipped", "failed", "standardOut", "standardError"
        showStandardStreams = true
    }
}

run {
    if (project.hasProperty('args')) {
        args project.args.split('\\s+')
    }
}

